<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>HiPhish's Workshop-Grid Framework</title><link rel="stylesheet" href="/css/main.css" type="text/css" media="all" /><link rel="stylesheet" href="/css/local-nav.css" type="text/css" media="all" /><link rel="stylesheet" href="/css/blog.css" type="text/css" media="all" /></head><body><header><nav id="main-navbar"><input type="checkbox" id="main-nav-hamburger" hidden="hidden" /><div><a href="/">HiPhish's Workshop</a><label for="main-nav-hamburger" hidden="hidden"></label></div><ul><li><a href="/grid-framework/">Grid Framework</a><ul><li><a href="/grid-framework/">Overview</a></li><li hidden="hidden"></li><li><a href="/grid-framework/features/">Features</a></li><li><a href="/grid-framework/examples/">Examples</a></li><li><a href="/grid-framework/gallery/">Gallery</a></li><li><a href="/grid-framework/showcase/">Showcase</a></li><li><a href="/grid-framework/faq/">FAQ</a></li><li><a href="/grid-framework/news/">News</a></li><li hidden="hidden"></li><li><a href="http://forum.unity3d.com/threads/grid-framework-scripting-and-editor-plugins.144886/">Support</a></li><li hidden="hidden"></li><li><a href="https://www.assetstore.unity3d.com/#/content/62498">Buy Now <span class="badge">35$</span></a></li></ul></li><li><a href="/#products">Open Source</a><ul><li><a href="https://gitlab.com/HiPhish/ntfs-clone">NTFS-Clone</a></li><li><a href="https://gitlab.com/HiPhish/IPS-Tools">IPS-Tools</a></li><li><a href="https://gitlab.com/HiPhish/roll">roll</a></li><li><a href="https://github.com/HiPhish/Newton-method">Newton's Method in C</a></li><li><a href="https://github.com/HiPhish/XeenTools">Xeen Tools</a></li><li><a href="https://github.com/HiPhish/Wolf3DExtract">Wolf3D Extract</a></li><li><a href="https://github.com/HiPhish/Game-Source-Documentation">Game Source Documentation</a></li></ul></li><li><a href="/vim/plugins/">Vim/Nvim plugins</a><ul><li><a href="https://gitlab.com/HiPhish/info.vim">Info.vim</a></li><li><a href="https://gitlab.com/HiPhish/repl.nvim">REPL.nvim</a></li><li><a href="https://gitlab.com/HiPhish/quicklisp.nvim">Quicklisp.nvim</a></li><li><a href="https://gitlab.com/HiPhish/jinja.vim">jinja.vim</a></li><li><a href="https://gitlab.com/HiPhish/neovim-guix-channel/">Guix channel</a></li></ul></li><li class="push-end"><a href="/blog/">Blog</a></li><li><a href="/about/">About</a></li></ul></nav></header><div><nav class="local-nav"><ul><li><a href="/grid-framework/">Grid Framework</a></li><li><a href="/grid-framework/features/">Features</a></li><li><a href="/grid-framework/examples/">Examples</a></li><li><a href="/grid-framework/gallery/">Gallery</a></li><li><a href="/grid-framework/showcase/">Showcase</a></li><li><a href="/grid-framework/faq/">FAQ</a></li><li><a href="/grid-framework/news/">News</a></li><li><a href="http://forum.unity3d.com/threads/grid-framework-scripting-and-editor-plugins.144886/">Support</a></li><li><a href="https://www.assetstore.unity3d.com/#/content/62498/">Buy <span class="badge">35$</span></a></li></ul></nav><div class="blog"><nav class="breadcrumbs" aria-label="Breadcrumbs"><ol><li class=""><a href="../../../..">news</a></li><li class=""><a href="../../..">2021</a></li><li class=""><a href="../..">09</a></li><li class="active">11</li><li class="active">git-packages-or-embedded-packages</li></ol></nav><main class="blogpost"><article><h1><a href="." title="Permalink to Git packages or embedded packages? Yes." rel="bookmark">Git packages or embedded packages? Yes.</a></h1><header><p><time class="published" datetime="2021-09-11">Published: 2021-09-11</time></p><p>Category: <a href="../../../../categories/progress/">progress</a></p><p>Tags: <a href="../../../../tags/how-to/">how-to </a><a href="../../../../tags/packages/">packages </a></p></header><p>In my <a href="/grid-framework/news/2021/07/31/vectrosity-support-as-package/">previous post</a> I wrote about how I maintain the optional extra packages
to Grid Framework. Since this point is useful for working with Unity in general
I think it's worth elaborating upon the topic in a separate post.</p><h2>The different kinds of packages</h2><p>There are three different kinds of custom packages:</p><ul><li>embedded packages</li><li>local packages</li><li>Git packages</li></ul><p>An embedded package resides inside the project itself, where it is contained
within a directory inside the <code>Packages</code> directory. Embedded package have the
advantage that their code is actually part of the project and as such we can
work on the code directly. As such our code tooling (like <a href="https://www.omnisharp.net/">Omnisharp</a> or an
IDE) can operate on the code of the package. Embedded packages cannot be shared
among projects.</p><p>A local package resides within a directory on our file system but outside the
project. Local packages can be shared among projects and we can work on their
code, but we cannot do so within the context of a Unity project. This is not
much of a deal if our package does not contain code though.</p><p>A Git package is a Git repository, usually on a remote server. Git packages are
ideal for sharing a project among multiple machines, but we cannot work on them
directly. Of course we can clone the repository and work on it, but we cannot
work on the original package directly. Git packages are great if we want to
make the package distributable.</p><h2>The problem I want to solve</h2><p>My addon packages have two target audiences: me as their developer, and you as
their end users. I want the packages to be as easy to install as possible, so a
Git package is ideal. I can tag individual releases and users can then choose
which version they want.</p><p>On the other hand the packages contain code and I need to work on it. For this
purpose an embedded package would be ideal. Yet I still need to be able to tag
releases and switch branches without having to affect all of Grid Framework.
There is no reason I should have to branch off the entire project just because
the add-on has an issue.</p><h2>Git submodules give us the best of both world</h2><p>Git has a feature called <em>submodules</em>, which lets us put Git repositories
inside Git repositories. Normally we should use a proper package manager for
managing dependencies, but sometimes a submodule is exactly what we need. In
our case we want the remote package to be stored inside the Unity project as if
it were a local package. Fortunately Unity does no require any different file
structure or metadata for the different kinds of packages.</p><p>Assuming we are in the repository of the project we can add the submodule using
this command:</p><pre><code class="language-sh">git submodule add &lt;path-to-origin&gt; Packages/com.hiphish.grid-framework.playmaker
git submodule add &lt;path-to-origin&gt; Packages/com.hiphish.grid-framework.vectrosity</code></pre><p>The last parameter is important, it tells Git under which path to save the
repository. This is effectively it, we can now use the package in our project,
we can <code>cd</code> into the submodule and work there. We will probably want to set up
which branch to follow, so we can execute the following in our shell:</p><pre><code>git config -f .gitmodules submodule.source/Packages/com.hiphish.grid-framework.playmaker.branch master
git config -f .gitmodules submodule.source/Packages/com.hiphish.grid-framework.vectrosity.branch master</code></pre><p>Or add a <code>branch</code> entry to our <code>.gitmodules</code> file inside the main repository:</p><pre><code>[submodule &quot;source/Packages/com.hiphish.grid-framework.playmaker&quot;]
    path = source/Packages/com.hiphish.grid-framework.playmaker
    url = git@gitlab.com:HiPhish/grid-framework-playmaker.git
    branch = master
[submodule &quot;source/Packages/com.hiphish.grid-framework.vectrosity&quot;]
    path = source/Packages/com.hiphish.grid-framework.vectrosity
    url = git@gitlab.com:HiPhish/grid-framework-vectrosity.git
    branch = master</code></pre><h2>Conclusion</h2><p>TL;DR: Make your package a Git repository, add it as a Git submodule to your
main project repository and make sure to set the correct path so Unity sees it
as an embedded package. Work on the copy inside your main project, commit and
tag there, then push to the origin. Users can use the origin as a Git package
in their own projects. For more information refer to the official Git
documentation: <code>git help submodules</code></p></article></main><nav class="blog-pager"><a href="../../../../2021/07/31/vectrosity-support-as-package/" rel="previous" style="float: left"><span aria-hidden="true">←</span> Vectrosity support as a package</a><a href="../../../../2021/09/14/playmaker-actions-overhaul/" rel="next" style="float: right">Playmaker actions overhaul <span aria-hidden="true">→</span></a></nav><nav class="blog-navigation" aria-label="Blog navigation"><aside><span>Subscribe:</span> <a href="/grid-framework/news//rss.xml" type="application/rss+xml">RSS</a></aside><nav><h1><a href="/grid-framework/news/archive/">Archive</a></h1><ul><li><a href="/grid-framework/news/2021/">2021 (13)</a></li><li><a href="/grid-framework/news/2019/">2019 (3)</a></li><li><a href="/grid-framework/news/2018/">2018 (1)</a></li><li><a href="/grid-framework/news/2017/">2017 (3)</a></li><li><a href="/grid-framework/news/2016/">2016 (16)</a></li><li><a href="/grid-framework/news/2015/">2015 (13)</a></li><li><a href="/grid-framework/news/2014/">2014 (8)</a></li><li><a href="/grid-framework/news/2013/">2013 (19)</a></li><li><a href="/grid-framework/news/2012/">2012 (40)</a></li></ul></nav><nav><h1><a href="/grid-framework/news/categories/">Categories</a></h1><ul><li><a href="/grid-framework/news/categories/tips/">tips (2)</a></li><li><a href="/grid-framework/news/categories/misc/">misc (24)</a></li><li><a href="/grid-framework/news/categories/organisation/">organisation (7)</a></li><li><a href="/grid-framework/news/categories/release/">release (43)</a></li><li><a href="/grid-framework/news/categories/progress/">progress (40)</a></li></ul></nav><nav><h1><a href="/grid-framework/news/tags/">Tags</a></h1><ul><li><a href="/grid-framework/news/tags/extension/">extension (4)</a></li><li><a href="/grid-framework/news/tags/rant/">rant (3)</a></li><li><a href="/grid-framework/news/tags/example/">example (7)</a></li><li><a href="/grid-framework/news/tags/old-blog/">old-blog (74)</a></li><li><a href="/grid-framework/news/tags/asset-store/">asset-store (1)</a></li><li><a href="/grid-framework/news/tags/coordinate-system/">coordinate-system (1)</a></li><li><a href="/grid-framework/news/tags/spheric/">spheric (1)</a></li><li><a href="/grid-framework/news/tags/API-change/">API-change (3)</a></li><li><a href="/grid-framework/news/tags/vectrosity/">vectrosity (5)</a></li><li><a href="/grid-framework/news/tags/how-to/">how-to (7)</a></li><li><a href="/grid-framework/news/tags/packages/">packages (5)</a></li><li><a href="/grid-framework/news/tags/playmaker/">playmaker (3)</a></li><li><a href="/grid-framework/news/tags/v3/">v3 (12)</a></li></ul></nav></nav></div></div><footer><div><div class="footer-self"><a href="/" title="HiPhish's Workshop"><img src="/img/footer/logo.png" title="HiPhish's Workshop" height="55" /></a><p><a href="http://creativecommons.org/licenses/by-sa/4.0/"><img class="copyright-image" src="/img/footer/cc.svg" alt="Creative Commons Attribution-ShareAlike 4.0 International License" /> </a>© 2015-2021, licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></p></div><div class="footer-social"><a href="https://github.com/HiPhish" title="GitHub" target="blank"><img src="/img/footer/github.png" alt="GitHub" height="55" /> </a><a href="https://gitlab.com/HiPhish" title="GitLab" target="blank"><img src="/img/footer/gitlab.png" alt="GitLab" height="55" /> </a></div></div></footer></body></html>