<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>News - Grid Framework</title><link rel="stylesheet" href="/css/main.css" type="text/css" media="all"/><link rel="stylesheet" href="/css/local-nav.css" type="text/css" media="all"/><link rel="stylesheet" href="/css/blog.css" type="text/css" media="all"/></head><body><header><nav id="main-navbar"><input type="checkbox" id="main-nav-hamburger" hidden="hidden"/><div><a href="/">HiPhish's Workshop</a><label for="main-nav-hamburger" hidden="hidden"></label></div><ul><li><a href="/grid-framework/">Grid Framework</a><ul><li><a href="/grid-framework/">Overview</a></li><li hidden="hidden"/><li><a href="/grid-framework/features/">Features</a></li><li><a href="/grid-framework/examples/">Examples</a></li><li><a href="/grid-framework/gallery/">Gallery</a></li><li><a href="/grid-framework/showcase/">Showcase</a></li><li><a href="/grid-framework/faq/">FAQ</a></li><li><a href=" /grid-framework/news/">News</a></li><li hidden="hidden"/><li><a href="http://forum.unity3d.com/threads/grid-framework-scripting-and-editor-plugins.144886/">Support</a></li><li hidden="hidden"/><li><a href="https://www.assetstore.unity3d.com/#/content/62498">Buy Now <span class="badge">35$</span></a></li></ul></li><li><a href="/#products">Open Source</a><ul><li><a href="https://gitlab.com/HiPhish/ntfs-clone">NTFS-Clone</a></li><li><a href="https://gitlab.com/HiPhish/IPS-Tools">IPS-Tools</a></li><li><a href="https://gitlab.com/HiPhish/roll">roll</a></li><li><a href="https://github.com/HiPhish/Newton-method">Newton's Method in C</a></li><li><a href="https://github.com/HiPhish/XeenTools">Xeen Tools</a></li><li><a href="https://github.com/HiPhish/Wolf3DExtract">Wolf3D Extract</a></li><li><a href="https://github.com/HiPhish/Game-Source-Documentation">Game Source Documentation</a></li></ul></li><li><a href="/vim/plugins/">Vim/Nvim plugins</a><ul><li><a href="https://gitlab.com/HiPhish/info.vim">Info.vim</a></li><li><a href="https://gitlab.com/HiPhish/repl.nvim">REPL.nvim</a></li><li><a href="https://gitlab.com/HiPhish/quicklisp.nvim">Quicklisp.nvim</a></li><li><a href="https://gitlab.com/HiPhish/jinja.vim">jinja.vim</a></li><li><a href="https://gitlab.com/HiPhish/neovim-guix-channel/">Guix channel</a></li></ul></li><li class="push-end"><a href="/blog/">Blog</a></li><li><a href="/about/">About</a></li></ul></nav></header><div><nav class="local-nav"><ul><li><a href="/grid-framework/">Grid Framework</a></li><li><a href="/grid-framework/features/">Features</a></li><li><a href="/grid-framework/examples/">Examples</a></li><li><a href="/grid-framework/gallery/">Gallery</a></li><li><a href="/grid-framework/showcase/">Showcase</a></li><li><a href="/grid-framework/faq/">FAQ</a></li><li aria-current="page"><a href="/grid-framework/news/">News</a></li><li><a href="http://forum.unity3d.com/threads/grid-framework-scripting-and-editor-plugins.144886/">Support</a></li><li><a href="https://www.assetstore.unity3d.com/#/content/62498/">Buy <span class="badge">35$</span></a></li></ul></nav><div class="blog"><nav class="breadcrumbs" aria-label="Breadcrumbs"><ol><li class=""><a href="../../../../">news</a></li><li class=""><a href="../../../">2021</a></li><li class=""><a href="../../">09</a></li><li class="active">14</li><li class="active">playmaker-actions-overhaul</li></ol></nav><main class="blogpost"><article><h1><a href="." title="permalink to Playmaker actions overhaul" rel="bookmark">Playmaker actions overhaul</a></h1><header class="blog-post-header"><p class="blog-post-published">published: <time datetime="2021-09-14">2021-09-14</time></p><p class="blog-post-category">categories: <a href="../../../../categories/progress/">progress</a></p><p class="blog-post-tags">tags: <a href="../../../../tags/v3/">v3</a>, <a href="../../../../tags/playmaker/">playmaker</a>, <a href="../../../../tags/packages/">packages</a></p></header><p>Let's have a mental exercise: image something shameful you have done, it
doesn't have to be the most shameful thing, just something that you really are
not proud of should do. Now imagine putting it in a sealed box where it will be
rotting and festering for years. Now imagine having to open that box, slowly
lifting the lid as the rancid smell starts creeping out of the box. That is how
it felt when I opened up the old <a href="https://hutonggames.com/">Playmaker</a> support.</p><p>I added Playmaker support due to popular demand and it should have been really
simple on paper: just provide actions which correspond to the classes and
methods we have. The problem is that I made a separate action for <em>every</em>
single thing you could possibly do. Want to get the radius of a polar grid?
That's one action. Want to get the angle of the same grid? That's another
action. Want to also set those two properties? That's two more actions. With
how many possible combinations of properties and methods there are, you can
easily imagine how it spiraled out of control very quickly.</p><h2 id="The new actions">The new actions</h2><p>I don't remember why I did it that way. Maybe it was the only way back then? Or
maybe I just didn't know what I was doing. Anyway, I decided to clean up real
good and merge actions which actually belong together. Getters and setters are
still separate actions, this is also how the official Playmaker actions work.</p><h3 id="Grid property accessors">Grid property accessors</h3><p>Grid property getters are simple: they just read the property from a grid
object and make it available. All properties of a particular grid class have
been merged into one action per grid class. If we don't care about a particular
property we can simply ignore it.</p><p>Grid setters are a bit more complicated. For starters not all properties are
writeable, so some setter actions have fewer properties than their
corresponding setters. There is another problem though: what if we do not want
to set a particular property? This is where Playmaker variables come into play:
if a field is set to a variable, but the variable is <code>None</code>, then the field is
ignored and not set. This allows us to store all setters in one action, but
still retain the ability to pick and choose which setters to actually run.</p><h3 id="Coordinate conversion methods">Coordinate conversion methods</h3><p>The meat and potatoes of Grid Framework. For every grid class there is one
action with four fields:</p><ul><li><p>the input value</p></li><li><p>the output value (a variable)</p></li><li><p>The source coordinate system (an enum)</p></li><li><p>The target coordinate system (an enum)</p></li></ul><p>This slightly increases the size of each action, but it cuts down the number of
actions drastically.</p><h2 id="Conclusion">Conclusion</h2><p>At present there are 28 individual actions. Out of those four are for
conversion, so that leaves 12 getters and setters each. That's still a lot, but
it is a far cry from the original count of 104 individual actions. Yeah, I'm
really not proud of that one, but now is the opportunity to make up for it and
get it right.</p><p><img src="../screenshot.png" title="So much better" alt="Screenshot of an FSM with a polar grid setter"/></p></article><nav class="blog-pager"><a href="/grid-framework/news/2021/09/11/git-packages-or-embedded-packages/" rel="previous" style="float: left"><span aria-hidden="true">←</span> Git packages or embedded packages? Yes.</a><a href="/grid-framework/news/2021/09/20/playmaker-samples/" rel="next" style="float: right">Playmaker samples <span aria-hidden="true">→</span></a></nav></main><nav class="blog-navigation" aria-label="Blog navigation"><aside><span>subscribe:</span> <a href="/grid-framework/news/rss.xml" type="application/rss+xml">RSS</a></aside><nav><h1><a href="/grid-framework/news/archive/">archive</a></h1><ul><li><a href="/grid-framework/news/2021/">2021 (14)</a></li><li><a href="/grid-framework/news/2019/">2019 (3)</a></li><li><a href="/grid-framework/news/2018/">2018 (1)</a></li><li><a href="/grid-framework/news/2017/">2017 (3)</a></li><li><a href="/grid-framework/news/2016/">2016 (16)</a></li><li><a href="/grid-framework/news/2015/">2015 (13)</a></li><li><a href="/grid-framework/news/2014/">2014 (8)</a></li><li><a href="/grid-framework/news/2013/">2013 (19)</a></li><li><a href="/grid-framework/news/2012/">2012 (40)</a></li></ul></nav><nav><h1><a href="/grid-framework/news/categories/">categories</a></h1><ul><li><a href="/grid-framework/news/categories/misc/">misc (23)</a></li><li><a href="/grid-framework/news/categories/organisation/">organisation (7)</a></li><li><a href="/grid-framework/news/categories/progress/">progress (41)</a></li><li><a href="/grid-framework/news/categories/release/">release (44)</a></li><li><a href="/grid-framework/news/categories/tips/">tips (2)</a></li></ul></nav><nav><h1><a href="/grid-framework/news/tags/">tags</a></h1><ul><li><a href="/grid-framework/news/tags/old-blog/">old-blog (74)</a></li><li><a href="/grid-framework/news/tags/v3/">v3 (13)</a></li><li><a href="/grid-framework/news/tags/example/">example (7)</a></li><li><a href="/grid-framework/news/tags/how-to/">how-to (7)</a></li><li><a href="/grid-framework/news/tags/vectrosity/">vectrosity (5)</a></li><li><a href="/grid-framework/news/tags/packages/">packages (5)</a></li><li><a href="/grid-framework/news/tags/extension/">extension (4)</a></li><li><a href="/grid-framework/news/tags/rant/">rant (3)</a></li><li><a href="/grid-framework/news/tags/API-change/">API-change (3)</a></li><li><a href="/grid-framework/news/tags/playmaker/">playmaker (3)</a></li><li><a href="/grid-framework/news/tags/spheric/">spheric (2)</a></li><li><a href="/grid-framework/news/tags/asset-store/">asset-store (1)</a></li><li><a href="/grid-framework/news/tags/coordinate-system/">coordinate-system (1)</a></li></ul></nav></nav></div></div><footer><div><div class="footer-self"><a href="/" title="HiPhish's Workshop"><img src="/img/footer/logo.png" title="HiPhish's Workshop" height="55"/></a><p><a href="http://creativecommons.org/licenses/by-sa/4.0/"><img class="copyright-image" src="/img/footer/cc.svg" alt="Creative Commons Attribution-ShareAlike 4.0 International License"/> </a>© 2015-2022, licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></p></div><div class="footer-social"><a href="https://github.com/HiPhish" title="GitHub" target="blank"><img src="/img/footer/github.png" alt="GitHub" height="55"/> </a><a href="https://gitlab.com/HiPhish" title="GitLab" target="blank"><img src="/img/footer/gitlab.png" alt="GitLab" height="55"/> </a></div></div></footer></body></html>