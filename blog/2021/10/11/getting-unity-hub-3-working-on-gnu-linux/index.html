<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>HiPhish's Workshop</title><link rel="stylesheet" href="/css/main.css" type="text/css" media="all"/><link rel="stylesheet" href="/css/local-nav.css" type="text/css" media="all"/><link rel="stylesheet" href="/css/blog.css" type="text/css" media="all"/></head><body><header><nav id="main-navbar"><input type="checkbox" id="main-nav-hamburger" hidden="hidden"/><div><a href="/">HiPhish's Workshop</a><label for="main-nav-hamburger" hidden="hidden"></label></div><ul><li><a href="/grid-framework/">Grid Framework</a><ul><li><a href="/grid-framework/">Overview</a></li><li hidden="hidden"/><li><a href="/grid-framework/features/">Features</a></li><li><a href="/grid-framework/examples/">Examples</a></li><li><a href="/grid-framework/gallery/">Gallery</a></li><li><a href="/grid-framework/showcase/">Showcase</a></li><li><a href="/grid-framework/faq/">FAQ</a></li><li><a href=" /grid-framework/news/">News</a></li><li hidden="hidden"/><li><a href="http://forum.unity3d.com/threads/grid-framework-scripting-and-editor-plugins.144886/">Support</a></li><li hidden="hidden"/><li><a href="https://www.assetstore.unity3d.com/#/content/62498">Buy Now <span class="badge">35$</span></a></li></ul></li><li><a href="/#products">Open Source</a><ul><li><a href="https://gitlab.com/HiPhish/ntfs-clone">NTFS-Clone</a></li><li><a href="https://gitlab.com/HiPhish/IPS-Tools">IPS-Tools</a></li><li><a href="https://gitlab.com/HiPhish/roll">roll</a></li><li><a href="https://github.com/HiPhish/Newton-method">Newton's Method in C</a></li><li><a href="https://github.com/HiPhish/XeenTools">Xeen Tools</a></li><li><a href="https://github.com/HiPhish/Wolf3DExtract">Wolf3D Extract</a></li><li><a href="https://github.com/HiPhish/Game-Source-Documentation">Game Source Documentation</a></li></ul></li><li><a href="/vim/plugins/">Vim/Nvim plugins</a><ul><li><a href="https://gitlab.com/HiPhish/info.vim">Info.vim</a></li><li><a href="https://gitlab.com/HiPhish/repl.nvim">REPL.nvim</a></li><li><a href="https://gitlab.com/HiPhish/quicklisp.nvim">Quicklisp.nvim</a></li><li><a href="https://gitlab.com/HiPhish/jinja.vim">jinja.vim</a></li><li><a href="https://gitlab.com/HiPhish/neovim-guix-channel/">Guix channel</a></li></ul></li><li class="push-end"><a href="/blog/">Blog</a></li><li><a href="/about/">About</a></li></ul></nav></header><div><div class="blog"><nav class="breadcrumbs" aria-label="Breadcrumbs"><ol><li class=""><a href="../../../../">blog</a></li><li class=""><a href="../../../">2021</a></li><li class=""><a href="../../">10</a></li><li class="active">11</li><li class="active">getting-unity-hub-3-working-on-gnu-linux</li></ol></nav><main class="blogpost"><article><h1><a href="." title="permalink to Getting Unity Hub 3 working on GNU/Linux" rel="bookmark">Getting Unity Hub 3 working on GNU/Linux</a></h1><header class="blog-post-header"><p class="blog-post-published">published: <time datetime="2021-10-11">2021-10-11</time></p><p class="blog-post-category">categories: <a href="../../../../categories/misc/">misc</a></p><p class="blog-post-tags">tags: <a href="../../../../tags/linux/">linux</a>, <a href="../../../../tags/rant/">rant</a></p></header><p>Recently I had the misfortune of a data loss, so I had to re-instally my OS
again. But even worse: I also had to re-install Unity on GNU/Linux, which has
been an exercise in frustration and trial &amp; error. In this post I will outline
what I had to do, in the hope that it will be of use to other people.</p><h2 id="The problem">The problem</h2><p>The Unity Hub is distributed in <a href="https://appimage.org/">AppImage</a> format. And AppImage is one big
container file (similar to a ZIP file) which contains all the dependencies for
running and application. Unlike a ZIP file though, an AppImage can be executed
to run its bundled application. This is quite handy, but there is a problem:
the OS has no idea what an AppImage is. As far as the OS in concerned it is
just another file, it does not know how it fits into the bigger picture.</p><p>In my case I had three issues:</p><ul><li><p>I was unable to log in</p></li><li><p>No Unity Hub links worked</p></li><li><p>Engines did download but would not install</p></li></ul><p>The first two issues have the same cause and can be fixed completely. The third
issue requires manually moving files into place by hand.</p><h2 id="The solution">The solution</h2><p>TL;DR: Create a desktop entry for the Unity Hub, register it as the handler for
<code>unityhub://...</code> URIs and then install Unity engines by hand.</p><h3 id="Registering the Unity Hub as an application">Registering the Unity Hub as an application</h3><p>On GNU/Linux a program is just some file on the disc, so we need to specify
additional information in some central location for the desktop environment to
pick up on it. This information lets other applications route instructions
properly.</p><h4>The desktop entry definition</h4><p>Let us first define the Unity Hub application itself. Create the file
<code>~/.local/share/applications/com.unity.unityhub.desktop</code> with the following
content and make it executable:</p><pre><code>[Desktop Entry]
Type = Application
Name = Unity Hub
Exec = /path/to/UnityHub.AppImage %u
Categories = Development
MimeType = x-scheme-handler/unityhub
</code></pre><p>This file specifies two important properties:</p><ul><li><p><code>Type</code>: this is an application</p></li><li><p><code>Exec</code>: the command for the OS to execute, the <code>%u</code> argument is vital here</p></li><li><p><code>MimeType</code>: which file types (or URI schemas in this case) the application
will able to handle</p></li></ul><p>The other lines are not important, you can change them to your liking. For more
information please refer to the <a href="https://freedesktop.org/wiki/Specifications/desktop-entry-spec/">XDG Desktop Entry</a> specification. The file
name of the desktop entry file does not matter, but the file path does.</p><p>To be precise, the file path can be any path from the
<code>$XDG_DATA_DIRS/applications</code>. For more details please refer to the <a href="https://specifications.freedesktop.org/menu-spec/">XDG
Desktop Menu</a> and <a href="https://specifications.freedesktop.org/menu-spec/">XDG Base Directory</a> specifications. I have not tried placing
the Unity Hub in a system-wide location, but I would advise against placing any
proprietary mystery binaries in the system anyway.</p><h4>Registering the MIME type</h4><p>So far we have only declared that the Unity Hub exists and that it can handle
URIs of the form <code>unityhub://...</code>, but we have not instructed the OS to
actually assign the Unity Hub as a handler for that URI schema. Without this
information <code>xdg-open</code> will not be able to resolve <code>unityhub://...</code> URIs.</p><p>Run the following line of code in your shell:</p><pre><code>xdg-mime default com.unity.unityhub.desktop x-scheme-handler/unityhub
</code></pre><h4>Words of caution</h4><ul><li><p>The path to the AppImage has to be absolution, i.e. not
<code>~/Applications/UnityHub.AppImage</code>, but
<code>/home/jdoe/Applications/UnityHub.AppImage</code> (or whatever your user name is)</p></li><li><p>Launch the Unity Hub from your applications menu, not directly from the
command line. If you have to use the command-line, then launch the desktop
entry file instead</p></li><li><p>Be patient, Unity Hub is very slow to react when you click a link in the
browser. I don't meant a couple of seconds, but a couple of minutes.</p></li></ul><h3 id="Manually installing engines">Manually installing engines</h3><p>In my case whenever I tried to install an engine through the Unity Hub
everything would download fine, but then the installation would fail with the
completely useless message of <code>Install failed: Installation Failed</code>. We can
tell the Unity Hub to use a local copy of the engine instead. Unfortunately
while there are download links for Windows and macOS, there are none for
GNU/Linux.</p><h4>Manually installing an engine</h4><ul><li><p>Download the engine normally through the Unity Hub</p></li><li><p>When the installation eventually fails cancel the entire process</p></li><li><p>The downloaded files can still be found in the <code>/tmp</code> directory as tarballs</p></li><li><p>Create a directory <code>/path/to/engines/&lt;version&gt;</code></p></li><li><p>Extract all the tarballs corresponding to that version inside the above
directory</p></li></ul><p>Here is an example of what the truncated directory structure looks like on my system:</p><pre><code>$ tree -L 3 /home/hiphish/.local/share/UnityHub/Editor/2020.3.19f1
├── Documentation
│   └── en
└── Editor
    ├── BugReporter
    ├── Data
    ├── Unity
    ├── Unity_s.debug
    ├── libOpenImageDenoise.so
    ├── libRL.so
    ├── libRadeonRays.so
    ├── libRadeonRays.so.2.0
    ├── libembree.so
    ├── libfbxsdk.so
    ├── libfreeimage-3.18.0.so
    ├── libispc_texcomp.so
    ├── libre2.so
    ├── libre2.so.0
    ├── libtbb.so.2
    ├── libtbbmalloc.so.2
    └── libumbraoptimizer64.so
</code></pre><p>If the tarballs have overlapping directories you should merge them. This can be
the case for example if you downloaded extra build support.</p><h4>Words of caution</h4><ul><li><p>Since the downloaded files do not indicate the editor version I strongly
recommend doing the above steps for one version at a time.</p></li><li><p>There does not seem to be a way of adding extra modules after the fact, so
choose wisely</p></li><li><p>Sometimes the Unity Hub shows an engine version mismatch for my project, even
though I have selected the correct version; it's annoying, but harmless</p></li></ul><h2 id="Further reading">Further reading</h2><ul><li><p><a href="https://appimage.org/">AppImage</a> website</p></li><li><p><a href="https://freedesktop.org/wiki/Specifications/desktop-entry-spec/">XDG Desktop Entry</a> specification</p></li><li><p><a href="https://specifications.freedesktop.org/menu-spec/">XDG Desktop Menu</a> specification</p></li><li><p><a href="https://specifications.freedesktop.org/menu-spec/">XDG Base Directory</a> specification</p></li></ul></article><nav class="blog-pager"><a href="/blog/2021/07/11/generating-unity3d-project-files-on-linux/" rel="previous" style="float: left"><span aria-hidden="true">←</span> Generating Unity3D project files on GNU/Linux</a><a href="/blog/2021/12/05/managing-vim-plugins-without-plugin-manager/" rel="next" style="float: right">Managing Vim plugins without a plugin manager <span aria-hidden="true">→</span></a></nav></main><nav class="blog-navigation" aria-label="Blog navigation"><aside><span>subscribe:</span> <a href="/blog/rss.xml" type="application/rss+xml">RSS</a></aside><nav><h1><a href="/blog/archive/">archive</a></h1><ul><li><a href="/blog/2024/">2024 (6)</a></li><li><a href="/blog/2023/">2023 (11)</a></li><li><a href="/blog/2022/">2022 (13)</a></li><li><a href="/blog/2021/">2021 (5)</a></li><li><a href="/blog/2020/">2020 (15)</a></li><li><a href="/blog/2019/">2019 (17)</a></li><li><a href="/blog/2018/">2018 (1)</a></li><li><a href="/blog/2017/">2017 (4)</a></li><li><a href="/blog/2016/">2016 (6)</a></li><li><a href="/blog/2015/">2015 (2)</a></li></ul></nav><nav><h1><a href="/blog/categories/">categories</a></h1><ul><li><a href="/blog/categories/misc/">misc (20)</a></li><li><a href="/blog/categories/open-source/">open-source (24)</a></li><li><a href="/blog/categories/organisation/">organisation (14)</a></li><li><a href="/blog/categories/vim/">vim (22)</a></li></ul></nav><nav><h1><a href="/blog/tags/">tags</a></h1><ul><li><a href="/blog/tags/lisp/">lisp (21)</a></li><li><a href="/blog/tags/vim/">vim (20)</a></li><li><a href="/blog/tags/rant/">rant (14)</a></li><li><a href="/blog/tags/html/">html (10)</a></li><li><a href="/blog/tags/unix/">unix (8)</a></li><li><a href="/blog/tags/lua/">lua (7)</a></li><li><a href="/blog/tags/linux/">linux (5)</a></li><li><a href="/blog/tags/web/">web (4)</a></li><li><a href="/blog/tags/msgpack/">msgpack (3)</a></li><li><a href="/blog/tags/neovim/">neovim (3)</a></li><li><a href="/blog/tags/games/">games (3)</a></li><li><a href="/blog/tags/guix/">guix (2)</a></li><li><a href="/blog/tags/network/">network (2)</a></li><li><a href="/blog/tags/markdown/">markdown (2)</a></li><li><a href="/blog/tags/testing/">testing (2)</a></li><li><a href="/blog/tags/cocoa/">cocoa (1)</a></li><li><a href="/blog/tags/info/">info (1)</a></li><li><a href="/blog/tags/awk/">awk (1)</a></li><li><a href="/blog/tags/elixir/">elixir (1)</a></li><li><a href="/blog/tags/wine/">wine (1)</a></li><li><a href="/blog/tags/git/">git (1)</a></li><li><a href="/blog/tags/terminal/">terminal (1)</a></li><li><a href="/blog/tags/unity3d/">unity3d (1)</a></li><li><a href="/blog/tags/python/">python (1)</a></li></ul></nav></nav></div></div><footer><div><div class="footer-self"><a href="/" title="HiPhish's Workshop"><img src="/img/footer/logo.png" title="HiPhish's Workshop" height="55"/></a><p><a href="http://creativecommons.org/licenses/by-sa/4.0/"><img class="copyright-image" src="/img/footer/cc.svg" alt="Creative Commons Attribution-ShareAlike 4.0 International License"/> </a>© 2015-2022, licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></p></div><div class="footer-social"><a href="https://github.com/HiPhish" title="GitHub" target="blank"><img src="/img/footer/github.png" alt="GitHub" height="55"/> </a><a href="https://gitlab.com/HiPhish" title="GitLab" target="blank"><img src="/img/footer/gitlab.png" alt="GitLab" height="55"/> </a></div></div></footer></body></html>