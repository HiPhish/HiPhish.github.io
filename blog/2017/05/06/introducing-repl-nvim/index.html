

<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<title>
			HiPhish's Workshop
		</title>
		
		<!-- Bootstrap integration -->
		<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css"
		crossorigin="anonymous"/>

		<!-- Bootstrap customisation -->
		<link rel="stylesheet" href="/theme/css/custom.css" type="text/css" media="all"/>

		<!-- My own style sheets -->
		<link rel="stylesheet" href="/theme/css/local-nav.css" type="text/css" media="all"/>
		<link rel="stylesheet" href="/theme/css/pygments.css" type="text/css" media="all"/>
<link rel="stylesheet" href="/theme/css/blog.css" type="text/css" media="all">
	
<link rel="stylesheet" href="/theme/css/article.css" type="text/css" media="all">

		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

		<!-- Bootstrap Javascript -->
		<script
			src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
			integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
		crossorigin="anonymous"></script>
	</head>
	<body>
		<h1>HTML-page body</h1>
		<header>
			<!-- Top navigation bar -->
			<nav id="main-navbar" class="navbar navbar-default">
				<h1>Site-wide navigation bar</h1>
				<!-- Brand and toggle get grouped for better mobile display -->
				<div class="container-fluid">
					<input type="checkbox" value="" name="navbar-toggle-cbox" id="navbar-toggle-cbox"/>
					<!-- Brand and toggle get grouped for better mobile display -->
					<div class="navbar-header">
						<label for="navbar-toggle-cbox" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navbar-collapse" aria-controls="navbar-toggle-cbox">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</label>
						<a class="navbar-brand" href="http://hiphish.github.io">HiPhish's Workshop</a>
					</div>

					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse" id="main-navbar-collapse">
						<!-- The list of navbar items -->
						<ul class="nav navbar-nav">
							<li class="dropdown">
								<a class="dropdown-toggle" href="/grid-framework" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
									Grid Framework <span></span>								</a>
								<ul class="dropdown-menu">

									<li>
										<a href="http://hiphish.github.io/grid-framework">
											Overview										</a>
									</li>

									<li class="divider" role="separator"></li>

									<li>
										<a href="http://hiphish.github.io/grid-framework/features">
											Features										</a>
									</li>

									<li>
										<a href="http://hiphish.github.io/grid-framework/examples">
											Examples										</a>
									</li>

									<li>
										<a href="http://hiphish.github.io/grid-framework/gallery">
											Gallery										</a>
									</li>

									<li>
										<a href="http://hiphish.github.io/grid-framework/showcase">
											Showcase										</a>
									</li>

									<li>
										<a href="http://hiphish.github.io/grid-framework/faq">
											FAQ										</a>
									</li>

									<li>
										<a href="http://hiphish.github.io/grid-framework/news">
											News										</a>
									</li>

									<li class="divider" role="separator"></li>

									<li>
										<a href="http://forum.unity3d.com/threads/grid-framework-scripting-and-editor-plugins.144886/" target="_blank">
											Support										</a>
									</li>

									<li class="divider" role="separator"></li>

									<li>
										<a href="https://www.assetstore.unity3d.com/#/content/62498" target="_blank">
											Buy Now <span class="badge">35$</span>										</a>
									</li>
								</ul>
							</li>
							<li class="dropdown">
								<a class="dropdown-toggle" href="https://gitlab.com/HiPhish/ntfs-clone" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
									Open Source <span></span>								</a>
								<ul class="dropdown-menu">

									<li>
										<a href="https://gitlab.com/HiPhish/ntfs-clone" target="_blank">
											NTFS-Clone										</a>
									</li>

									<li>
										<a href="https://gitlab.com/HiPhish/roll" target="_blank">
											roll										</a>
									</li>

									<li>
										<a href="https://github.com/HiPhish/Newton-method" target="_blank">
											Newton's Method in C										</a>
									</li>

									<li>
										<a href="https://github.com/HiPhish/XeenTools" target="_blank">
											Xeen Tools										</a>
									</li>

									<li>
										<a href="https://github.com/HiPhish/Wolf3DExtract" target="_blank">
											Wolf3D Extract										</a>
									</li>

									<li>
										<a href="https://github.com/HiPhish/Game-Source-Documentation" target="_blank">
											Game Source Documentation										</a>
									</li>
								</ul>
							</li>
							<li class="dropdown">
								<a class="dropdown-toggle" href="https://gitlab.com/HiPhish/info.vim" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
									Nvim/Vim Plugins <span></span>								</a>
								<ul class="dropdown-menu">

									<li>
										<a href="https://gitlab.com/HiPhish/info.vim" target="_blank">
											Info.vim										</a>
									</li>

									<li>
										<a href="https://gitlab.com/HiPhish/repl.nvim" target="_blank">
											REPL.nvim										</a>
									</li>

									<li>
										<a href="https://gitlab.com/HiPhish/jinja.vim" target="_blank">
											jinja.vim										</a>
									</li>
								</ul>
							</li>
						</ul>
						<ul class="nav navbar-nav navbar-right">
								<li class=" ">
									<a href="/blog">
										Blog									</a>
								</li>
								<li class=" ">
									<a href="/about">
										About									</a>
								</li>
						</ul>
					</div>
				</div>
			</nav>
		</header>

		<section class="container">
			<h1>Document body</h1>


<section class="blog-body">
	<h1>Blog</h1>

	<!-- Article body -->
	<section>
<main>
	<nav class="blog-breadcrumbs" aria-label="Breadcrumbs">
	<h1>Breadcrumbs navigation</h1>
	<ol class="breadcrumb">
		<li>
			<a href="http://hiphish.github.io/blog/">
				blog
			</a>
		</li>
		<li>
			<a href="http://hiphish.github.io/blog/2017/">
				2017
			</a>
		<li>
			<a href="http://hiphish.github.io/blog/2017/05/">
				05
			</a>
		<li class="active">
			6
		</li>
		<li class="active">
			introducing-repl-nvim
		</li>
	</ol>
</nav>


	<article>
		<!-- Title of the article -->
		<h1>
			<a href="http://hiphish.github.io/blog/2017/05/06/introducing-repl-nvim/" rel="bookmark" title="Permalink to Introducing REPL.nvim">
				Introducing REPL.nvim
			</a>
		</h1>

		<header>
<!-- Date of the article -->
			<p>
				<time class="published" datetime="2017-05-06T00:00:00+02:00">
					Published: 2017-05-06
				</time>
			</p>

			<!-- TODO: This has to be something nicer than a button -->
			<p>
				Category:
				<a class="" href="http://hiphish.github.io/blog/categories/open-source/">
					Open-Source
				</a>
			</p>

			<!-- TODO: This has to be something nicer than a button -->
			<p>
				Tags:
				<a class="" href="http://hiphish.github.io/blog/tags/vim/">
					vim
				</a>
			</p>
		</header>

		<!-- Content of the article -->
		<p>Integrating a REPL in Vim has been a difficult issue in the past, but with
Nvim's built-in terminal emulator it is just a few commands away. My new
<a class="reference external" href="https://gitlab.com/HiPhish/repl.nvim/">REPL.nvim</a> plugin now puts the REPL only one command away, for any
programming language you wish. The end goal is to have a complete generic and
configurable REPL framework which can be customised to the needs of any
language and which forms a solid foundation for other plugins as well.</p>
<div class="section" id="what-is-repl-nvim-and-why-should-you-care">
<h2>What is REPL.nvim and why should you care?</h2>
<p>In its most simple form REPL.nvim is a wrapper around Nvim's built-in terminal
emulator. You execute the <code>:Repl</code> command and a new window containing a running
REPL instance opens up. Behind the scenes <code>:Repl</code> opens a new buffer, sets the
parameters, executes <code>:terminal</code> and launches the REPL process. Originally
REPL.nvim started out as just a REPL for <a class="reference external" href="https://www.gnu.org/software/guile/">GNU Guile</a>, but I quickly noticed
that all Guile-specific code could be completely isolated, leaving me with a
language-agnostic plugin.</p>
<p>This means that the plugin consists roughly speaking of two parts: the actual
plugin that does all the work, and the configuration data which controls the
plugin. The configuration can be set per file type, so any language will have
its own separate settings. As an example, here are the Python settings:</p>
<div class="highlight"><pre><span></span><span class="k">let</span> <span class="k">g</span>:repl[<span class="s1">'python'</span>]: {
    \ <span class="s1">'bin'</span>: <span class="s1">'python'</span><span class="p">,</span>
    \ <span class="s1">'args'</span>: []<span class="p">,</span>
    \ <span class="s1">'syntax'</span>: <span class="s1">''</span><span class="p">,</span>
    \ <span class="s1">'title'</span>: <span class="s1">'Python REPL'</span><span class="p">,</span>
\ }<span class="p">,</span>
</pre></div>
<p>All settings are stored inside a dictionary and each entry can be overridden by
user settings or plugins.</p>
</div>
<div class="section" id="the-current-state-of-repl-nvim">
<h2>The current state of REPL.nvim</h2>
<p>REPL.nvim is already a fully working REPL wrapper. Not many REPLs are supported
at the moment, but adding those is trivial. They can be added to the user's own
Nvim settings, as a plugin, or you could submit a patch to the official
<a class="reference external" href="https://gitlab.com/HiPhish/repl.nvim/">repository</a>.</p>
<p>The next step is to grow the API. As I mentioned above, my goal is to have a
complete framework which other plugins can hook up to. This means that even if
they want to completely re-route the signal to their own functions they should
be able to do so. For instance, a plugin which uses a regular Nvim buffer
instead of wrapping the terminal emulator should be able to add one entry to
the configuration:</p>
<div class="highlight"><pre><span></span><span class="c">" This is not yet implemented</span>
<span class="k">let</span> <span class="k">g</span>:repl.python.launch_repl <span class="p">=</span> {type <span class="p">-&gt;</span> some_function<span class="p">(</span>type<span class="p">)</span>}
</pre></div>
<p>Thanks to the introduction of lambdas in Vim 8 and Nvim 0.2 it is possible to
make the plugin fully functional.</p>
</div>
<div class="section" id="contributions-are-welcome">
<h2>Contributions are welcome</h2>
<p>If you want to support a REPL or if you have ideas for the API let me know. I
want to be able to support as many REPLs out of the box with reasonable
settings as possible. Head over to the <a class="reference external" href="https://gitlab.com/HiPhish/repl.nvim/">repository</a> and get your hands on it.</p>
</div>

	</article>

	<footer>
		<!-- Navigation items (next/previous) -->
		<nav>
			<h1>Previous/next article</h1>
			<ul class="pager">
				<li class="previous">
					<a href="http://hiphish.github.io/blog/2017/04/25/html-outline-fundamentally-broken/" rel="prev">
						<span aria-hidden="true">&larr;</span> Outlining of HTML pages is fundamentally broken
					</a>
				</li>
				<li class="next">
					<a href="http://hiphish.github.io/blog/2017/05/13/mock-repl-unix/" rel="next">
						Creating a mock REPL on Unix <span aria-hidden="true">&rarr;</span>
					</a>
				</li>
			</ul>
		</nav>
	</footer>
</main>
	</section>

	<!-- "Left" pillar, article navigation -->
	<nav class="well">
		<!-- This navigator contains links to the various archive types. -->
		<h1>Blog navigation</h1>

		<nav>
			<h1>
				<a href="http://hiphish.github.io/blog/archives/">
					Archives
				</a>
			</h1>
			<ul>
				<li>
					<a href="http://hiphish.github.io/blog/2017/">
						2017 (3)
					</a>
					<ul>
						<li>
							<a href="http://hiphish.github.io/blog/2017/05/">
								May (2)
							</a>
							<ul>
								<li>
									<a href="http://hiphish.github.io/blog/2017/05/13/mock-repl-unix/">
										Creating a mock REPL on Unix
									</a>
								</li>
								<li>
									<a href="http://hiphish.github.io/blog/2017/05/06/introducing-repl-nvim/">
										Introducing REPL.nvim
									</a>
								</li>
							</ul>
						</li>
					</ul>
					<ul>
						<li>
							<a href="http://hiphish.github.io/blog/2017/04/">
								April (1)
							</a>
							<ul>
							</ul>
						</li>
					</ul>
				</li>
				<li>
					<a href="http://hiphish.github.io/blog/2016/">
						2016 (6)
					</a>
				</li>
				<li>
					<a href="http://hiphish.github.io/blog/2015/">
						2015 (2)
					</a>
				</li>
			</ul>
		</nav>

		<nav>
			<h1>
				<a href="http://hiphish.github.io/blog/categories/">
					Categories
				</a>
			</h1>
			<ul>
				<li>
					<a href="http://hiphish.github.io/blog/categories/ips-tools/">
						ips-tools (1)
					</a>
				</li>
				<li>
					<a href="http://hiphish.github.io/blog/categories/misc/">
						misc (4)
					</a>
				</li>
				<li>
					<a href="http://hiphish.github.io/blog/categories/ntfs-clone/">
						ntfs-clone (1)
					</a>
				</li>
				<li>
					<a href="http://hiphish.github.io/blog/categories/open-source/">
						Open-Source (2)
					</a>
				</li>
				<li>
					<a href="http://hiphish.github.io/blog/categories/organisation/">
						organisation (3)
					</a>
				</li>
			</ul>
		</nav>

		<nav>
			<h1>
				<a href="http://hiphish.github.io/blog/tags/">
					Tags
				</a>
			</h1>
			<ul>
				<li>
					<a href="http://hiphish.github.io/blog/tags/info/">
						info (1)
					</a>
				</li>
				<li>
					<a href="http://hiphish.github.io/blog/tags/website/">
						website (3)
					</a>
				</li>
				<li>
					<a href="http://hiphish.github.io/blog/tags/outline/">
						outline (1)
					</a>
				</li>
				<li>
					<a href="http://hiphish.github.io/blog/tags/vim/">
						vim (3)
					</a>
				</li>
				<li>
					<a href="http://hiphish.github.io/blog/tags/cocoa/">
						cocoa (1)
					</a>
				</li>
				<li>
					<a href="http://hiphish.github.io/blog/tags/rant/">
						rant (1)
					</a>
				</li>
				<li>
					<a href="http://hiphish.github.io/blog/tags/html/">
						html (1)
					</a>
				</li>
			</ul>
		</nav>

		<aside>
			<h1>Subscription options</h1>
			<strong>
				Subscribe:
				<a href="http://hiphish.github.io/blog/rss.xml">RSS</a>
				<a href="http://hiphish.github.io/blog/atom.xml">Atom</a>
			</strong>
		</aside>
	</nav>
</section>
		</section>

		<!-- Footer of the website -->
		<footer>
			<div class="container">
				<div class="col-md-8 footer-self">
					<a href="http://192.168.0.190:8000" title="HiPhish's Workshop">
						<img src="http://hiphish.github.io/images/footer/logo.png" alt="HiPhish's Workshop" />
					</a>
					<p class="text-muted">
						<a href="http://creativecommons.org/licenses/by-sa/4.0/"><img class="copyright-image" alt="Creative Commons Attribution-ShareAlike 4.0International License" src="http://hiphish.github.io/images/footer/cc.svg" /></a>
						© 2015-2017, licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>
					</p>
				</div>  <!-- /.col-md-8 -->

				<div class="col-md-4 footer-social">
					<span class="pull-right">
						<a href="https://github.com/HiPhish" title="GitHub" target="_blank">
							<img  class="img-circle" src="http://hiphish.github.io/images/footer/github.png" alt="GitHub"/>
						</a>
						<a href="https://gitlab.com/u/HiPhish" title="GitLab" target="_blank">
							<img  class="img-circle" src="http://hiphish.github.io/images/footer/gitlab.png" alt="GitLab"/>
						</a>
					</span>  <!-- /.pull-right -->
				</div>  <!-- /.col-md-4 -->
			</div>
		</footer>
	</body>
</html>

