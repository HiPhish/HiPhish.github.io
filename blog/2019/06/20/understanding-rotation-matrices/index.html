<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>HiPhish's Workshop</title><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" crossorigin="anonymous" /><link rel="stylesheet" href="/css/main.css" type="text/css" media="all" /><link rel="stylesheet" href="/css/local-nav.css" type="text/css" media="all" /><link rel="stylesheet" href="/css/blog.css" type="text/css" media="all" /><link rel="stylesheet" href="extra.css" type="text/css" media="all" /></head><body><header><nav id="main-navbar"><input type="checkbox" id="main-nav-hamburger" hidden="hidden" /><div><a href="/">HiPhish's Workshop</a><label for="main-nav-hamburger" hidden="hidden"></label></div><ul><li><a href="/grid-framework/">Grid Framework</a><ul><li><a href="/grid-framework/">Overview</a></li><li hidden="hidden"></li><li><a href="/grid-framework/features/">Features</a></li><li><a href="/grid-framework/examples/">Examples</a></li><li><a href="/grid-framework/gallery/">Gallery</a></li><li><a href="/grid-framework/showcase/">Showcase</a></li><li><a href="/grid-framework/faq/">FAQ</a></li><li><a href="/grid-framework/news/">News</a></li><li hidden="hidden"></li><li><a href="http://forum.unity3d.com/threads/grid-framework-scripting-and-editor-plugins.144886/">Support</a></li><li hidden="hidden"></li><li><a href="https://www.assetstore.unity3d.com/#/content/62498">Buy Now <span class="badge">35$</span></a></li></ul></li><li><a href="/#products">Open Source</a><ul><li><a href="https://gitlab.com/HiPhish/ntfs-clone">NTFS-Clone</a></li><li><a href="https://gitlab.com/HiPhish/IPS-Tools">IPS-Tools</a></li><li><a href="https://gitlab.com/HiPhish/roll">roll</a></li><li><a href="https://github.com/HiPhish/Newton-method">Newton's Method in C</a></li><li><a href="https://github.com/HiPhish/XeenTools">Xeen Tools</a></li><li><a href="https://github.com/HiPhish/Wolf3DExtract">Wolf3D Extract</a></li><li><a href="https://github.com/HiPhish/Game-Source-Documentation">Game Source Documentation</a></li></ul></li><li><a href="/vim/plugins/">Vim/Nvim plugins</a><ul><li><a href="https://gitlab.com/HiPhish/info.vim">Info.vim</a></li><li><a href="https://gitlab.com/HiPhish/repl.nvim">REPL.nvim</a></li><li><a href="https://gitlab.com/HiPhish/quicklisp.nvim">Quicklisp.nvim</a></li><li><a href="https://gitlab.com/HiPhish/jinja.vim">jinja.vim</a></li><li><a href="https://gitlab.com/HiPhish/neovim-guix-channel/">Guix channel</a></li></ul></li><li class="push-end"><a href="/blog/">Blog</a></li><li><a href="/about/">About</a></li></ul></nav></header><div><div class="blog"><nav class="breadcrumbs" aria-label="Breadcrumbs"><ol><li class=""><a href="../../../..">blog</a></li><li class=""><a href="../../..">2019</a></li><li class=""><a href="../..">06</a></li><li class="active">20</li><li class="active">understanding-rotation-matrices</li></ol></nav><main class="blogpost"><article><h1><a href="." title="Permalink to Understanding 2D rotation matrices" rel="bookmark">Understanding 2D rotation matrices</a></h1><header><p><time class="published" datetime="2019-06-20">Published: 2019-06-20</time></p><p>Category: <a href="../../../../categories/misc/">misc</a></p></header><p>When I first learned about rotation matrices they appeared quite
       “magic”; if you squinted your eyes a bit it sort of made sense, and if
       you did the math you could prove that the matrix does indeed perform the
       rotation and that all the group properties are met, but none of that
       explains <em>where</em> that form comes from, <em>why</em> it works.
       In this blog post I will explore a way to derive the formula for
       rotation matrices step by step.  If you wish to follow along you need
       only basic knowledge of linear algebra and trigonometry.</p><p>This post makes extensive use of MathML, if your browser does not
       support it you will be seeing gibberish.</p><h2>Points on the unit circle</h2><p>We start our journey with the simple case of the unit circle. A unit
       circle in the Euclidean plane <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><msup><mi>E</mi><mn>2</mn></msup></mrow></math> is a circle with its center at the origin and a radius of <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mn>1</mn></mrow></math>. Each point on the plane is given by a pair <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfenced><mi>x</mi><mi>y</mi></mfenced></mrow></math> of coordinates. If we limit ourselves to the unit circle we observe
       that each point is uniquely identified by an angle <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>α</mi><mo>∈</mo><mfenced open="[">0<mn>2π</mn></mfenced></mrow></math> around the center. For convenience we will choose that the point <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfenced><mn>1</mn><mn>0</mn></mfenced></mrow></math> corresponds to the angle <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>α</mi><mo>=</mo><mn>0</mn></mrow></math>, and that rotations go counter-clockwise. Both of these are
       long-established conventions.</p><figure><svg xmlns="http://www.w3.org/2000/svg" version="1.1" baseProfile="full" height="100" viewBox="-10 -100 230 110"><defs><marker id="arrow" viewBox="0 0 10 10" refX="7" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" /></marker></defs><line x1="-99" y1="0" x2="99" y2="0" stroke="black" marker-end="url(#arrow)" /><line x1="0" y1="99" x2="0" y2="-99" stroke="black" marker-end="url(#arrow)" /><circle cx="0" cy="0" r="85" fill="none" stroke-width="2px" stroke="black" /><circle cx="73.61215931877165" cy="-42.5000000050327" r="4px" fill="black" /><circle cx="34.57261464976354" cy="-77.65136390482111" r="4px" fill="black" /><foreignObject x="88.33459118252598" y="-55.000000006039244" height="20px" width="300px"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfenced><mrow><mo>cos</mo><mi>α</mi></mrow><mrow><mo>sin</mo><mi>α</mi></mrow></mfenced></mrow></math></foreignObject><foreignObject x="41.48713757971624" y="-97.18163668578534" height="20px" width="300px"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfenced><mrow><mo>cos</mo><mi>φ + α</mi></mrow><mrow><mo>sin</mo><mi>φ + α</mi></mrow></mfenced></mrow></math></foreignObject><line x1="0" y1="0" x2="73.61215931877165" y2="-42.5000000050327" stroke="black" /><line x1="0" y1="0" x2="34.57261464976354" y2="-77.65136390482111" stroke="black" /><line x1="73.61215931877165" y1="0" x2="73.61215931877165" y2="-42.5000000050327" stroke="black" stroke-width="2px" /><line x1="0" y1="0" x2="73.61215931877165" y2="0" stroke="black" stroke-width="2px" /><path d="M 34.0,0.0 A 34.0 34.0 0.5235987756666667 0 0 29.44486372750866,-17.00000000201308" stroke="black" fill="none" /><path d="M 36.80607965938582,-21.25000000251635 A 42.5 42.5 0.5235987756666667 0 0 17.28630732488177,-38.825681952410555" stroke="black" fill="none" /><foreignObject x="36.80607965938582" y="-21.25000000251635" height="20px" width="50px"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>α</mi></mrow></math></foreignObject><foreignObject x="29.506467582879903" y="-51.66834979734166" height="20px" width="50px"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>φ</mi></mrow></math></foreignObject></svg><figcaption>Illustration of Cartesian coordinates based on the angle of rotation</figcaption></figure><p>Using basic trigonometry we can see that for a given angle <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>α</mi></mrow></math> the coordinates of the point are <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfenced><mrow><mo>cos</mo><mi>α</mi></mrow><mrow><mo>sin</mo><mi>α</mi></mrow></mfenced></mrow></math>; this is true because we can draw a right-angled triangle where the
       length of the hypotenuse is the radius of the circle and the lengths of
       the catheti are the coordinates of the point.</p><h2>Rotations along the unit circle</h2><p>We can rotate the point <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfenced><mrow><mo>cos</mo><mi>α</mi></mrow><mrow><mo>sin</mo><mi>α</mi></mrow></mfenced></mrow></math> around the origin by adding an angle <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>φ</mi></mrow></math> to <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>α</mi></mrow></math>. Thus we are looking for a matrix <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>R</mi><mo form="prefix" fence="true">(</mo><mi>φ</mi><mo form="postfix" fence="true">)</mo></mrow></math> which solves the equation<math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mfenced><mtable><mtr><mtd><mrow><mo>cos</mo><mo form="prefix" fence="true">(</mo><mi>φ</mi><mo form="infix">+</mo><mi>α</mi><mo form="postfix" fence="true">)</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>sin</mo><mo form="prefix" fence="true">(</mo><mi>φ</mi><mo form="infix">+</mo><mi>α</mi><mo form="postfix" fence="true">)</mo></mrow></mtd></mtr></mtable></mfenced><mo form="infix">=</mo><mrow><mi>R</mi><mo form="prefix" fence="true">(</mo><mi>φ</mi><mo form="postfix" fence="true">)</mo></mrow><mfenced><mtable><mtr><mtd><mrow><mo>cos</mo><mi>α</mi></mrow></mtd></mtr><mtr><mtd><mrow><mo>sin</mo><mi>α</mi></mrow></mtd></mtr></mtable></mfenced><mtext>.</mtext></mrow></math></p><p>We are going to make use of two trigonometric identities, their proof
       is left as an exercise to the reader.</p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable><mtr><mtd><mrow><mo>sin</mo><mo form="prefix" fence="true">(</mo><mi>x</mi><mo form="infix">±</mo><mi>y</mi><mo form="postfix" fence="true">)</mo></mrow></mtd><mtd><mrow><mo>=</mo></mrow></mtd><mtd><mrow><mo>sin</mo><mi>x</mi><mo>⁢</mo><mo>cos</mo><mi>y</mi><mo form="infix">±</mo><mo>cos</mo><mi>x</mi><mo>⁢</mo><mo>sin</mo><mi>y</mi></mrow></mtd></mtr><mtr><mtd><mrow><mo>cos</mo><mo form="prefix" fence="true">(</mo><mi>x</mi><mo form="infix">±</mo><mi>y</mi><mo form="postfix" fence="true">)</mo></mrow></mtd><mtd><mrow><mo>=</mo></mrow></mtd><mtd><mrow><mo>cos</mo><mi>x</mi><mo>⁢</mo><mo>cos</mo><mi>y</mi><mo form="infix">∓</mo><mo>sin</mo><mi>x</mi><mo>⁢</mo><mo>sin</mo><mi>y</mi></mrow></mtd></mtr></mtable></math><p>With these identities we can find the rotation matrix by taking the
       resulting vector apart.</p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right center left"><mtr><mtd><mfenced><mtable><mtr><mtd><mrow><mo>cos</mo><mo form="prefix" fence="true">(</mo><mi>φ</mi><mo form="infix">+</mo><mi>α</mi><mo form="postfix" fence="true">)</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>sin</mo><mo form="prefix" fence="true">(</mo><mi>φ</mi><mo form="infix">+</mo><mi>α</mi><mo form="postfix" fence="true">)</mo></mrow></mtd></mtr></mtable></mfenced></mtd><mtd><mo>=</mo></mtd><mtd><mfenced><mtable><mtr><mtd><mrow><mo>cos</mo><mi>φ</mi><mo>⁢</mo><mo>cos</mo><mi>α</mi><mo form="infix">-</mo><mo>sin</mo><mi>φ</mi><mo>⁢</mo><mo>sin</mo><mi>α</mi></mrow></mtd></mtr><mtr><mtd><mrow><mo>sin</mo><mi>φ</mi><mo>⁢</mo><mo>cos</mo><mi>α</mi><mo form="infix">+</mo><mo>cos</mo><mi>φ</mi><mo>⁢</mo><mo>sin</mo><mi>α</mi></mrow></mtd></mtr></mtable></mfenced></mtd></mtr><mtr><mtd></mtd><mtd><mo>=</mo></mtd><mtd><mrow><mfenced><mtable><mtr><mtd><mrow><mo>cos</mo><mi>φ</mi></mrow></mtd><mtd><mrow><mo>-sin</mo><mi>φ</mi></mrow></mtd></mtr><mtr><mtd><mrow><mo>sin</mo><mi>φ</mi></mrow></mtd><mtd><mrow><mo>cos</mo><mi>φ</mi></mrow></mtd></mtr></mtable></mfenced><mo>⁢</mo><mfenced><mtable><mtr><mtd><mrow><mo>cos</mo><mi>α</mi></mrow></mtd></mtr><mtr><mtd><mrow><mo>sin</mo><mi>α</mi></mrow></mtd></mtr></mtable></mfenced></mrow></mtd></mtr></mtable></math><p>This is indeed the familiar rotation matrix formula. We found it just
       by applying familiar knowledge from trigonometry.</p><h2>Rotation of arbitrary points</h2><p>Let us now widen our scope to all points in the plane: a point is now
       uniquely identified by its angle <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>α</mi></mrow></math> of rotation and by the distance <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>d</mi></mrow></math> from the origin. Using the same arguments as above, but taking into
       account that the length of the hypotenuse is now <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>d</mi></mrow></math>, we get the coordinates <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfenced><mrow><mi>d</mi><mo>⁢</mo><mo>cos</mo><mi>α</mi></mrow><mrow><mi>d</mi><mo>⁢</mo><mo>sin</mo><mi>α</mi></mrow></mfenced></mrow></math>.</p><p>It is easy to confirm that our previously found formula for rotation
       matrices works for points outside of the unit circle as well.</p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mfenced><mtable><mtr><mtd><mrow><mi>d</mi><mo>⁢</mo><mo>cos</mo><mo>(</mo><mi>φ</mi><mo>+</mo><mi>α</mi><mo>)</mo></mrow></mtd></mtr><mtr><mtd><mrow><mi>d</mi><mo>⁢</mo><mo>sin</mo><mo>(</mo><mi>φ</mi><mo>+</mo><mi>α</mi><mo>)</mo></mrow></mtd></mtr></mtable></mfenced><mo>=</mo><mfenced><mtable><mtr><mtd><mrow><mo>cos</mo><mi>φ</mi></mrow></mtd><mtd><mrow><mo>-sin</mo><mi>φ</mi></mrow></mtd></mtr><mtr><mtd><mrow><mo>sin</mo><mi>φ</mi></mrow></mtd><mtd><mrow><mo>cos</mo><mi>φ</mi></mrow></mtd></mtr></mtable></mfenced><mfenced><mtable><mtr><mtd><mrow><mi>d</mi><mo>⁢</mo><mo>cos</mo><mi>α</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>d</mi><mo>⁢</mo><mo>sin</mo><mi>α</mi></mrow></mtd></mtr></mtable></mfenced></mrow></math><h2>Rotating and scaling points</h2><p>As far as rotations go we are done, but we can take it a step further
       and add a scaling factor <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math> to the formula as well. If we wish to scale one coordinate of the
       vector we have to scale the corresponding row of the matrix, thus to
       uniformly scale the entire vector we have to uniformly scale the entire
       matrix.</p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mfenced><mtable><mtr><mtd><mrow><mi>r</mi><mo>⁢</mo><mi>d</mi><mo>⁢</mo><mo>cos</mo><mo>(</mo><mi>φ</mi><mo>+</mo><mi>α</mi><mo>)</mo></mrow></mtd></mtr><mtr><mtd><mrow><mi>r</mi><mo>⁢</mo><mi>d</mi><mo>⁢</mo><mo>sin</mo><mo>(</mo><mi>φ</mi><mo>+</mo><mi>α</mi><mo>)</mo></mrow></mtd></mtr></mtable></mfenced><mo>=</mo><mfenced><mtable><mtr><mtd><mrow><mi>r</mi><mo>⁢</mo><mo>cos</mo><mi>φ</mi></mrow></mtd><mtd><mrow><mi>-r</mi><mo>⁢</mo><mo>sin</mo><mi>φ</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>r</mi><mo>⁢</mo><mo>sin</mo><mi>φ</mi></mrow></mtd><mtd><mrow><mi>r</mi><mo>⁢</mo><mo>cos</mo><mi>φ</mi></mrow></mtd></mtr></mtable></mfenced><mfenced><mtable><mtr><mtd><mrow><mi>d</mi><mo>⁢</mo><mo>cos</mo><mi>α</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>d</mi><mo>⁢</mo><mo>sin</mo><mi>α</mi></mrow></mtd></mtr></mtable></mfenced></mrow></math><h2>Consequences</h2><p>A number of operations can be expressed as special cases of our
       rotate-scale matrix.</p><dl><dt>Identity</dt><dd><p>The identity transformation <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>id</mi></mrow></math> is represented by the identity matrix,
           which corresponds to a scale factor of <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>r</mi><mo>=</mo><mn>1</mn></mrow></math> and rotation angle of <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>φ</mi><mo>=</mo><mn>0</mn></mrow></math>.</p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mi>id</mi><mo>=</mo><mfenced><mtable><mtr><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable></mfenced></mrow></math></dd><dt>Scaling</dt><dd><p>A pure scaling has a variable scaling factor <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>r</mi></mrow></math> and a fixed rotation angle of <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>φ</mi><mo>=</mo><mn>0</mn></mrow></math>. A scaling matrix is thus just a uniformly scaled identity
           matrix.</p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mi>r</mi><mo>⁢</mo><mi>id</mi><mo>=</mo><mfenced><mtable><mtr><mtd><mi>r</mi></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mi>r</mi></mtd></mtr></mtable></mfenced></mrow></math></dd><dt>Inversion or reflection</dt><dd><p>Reflecting a point along the origin can be interpreted either as a
           rotation by <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>φ</mi><mo>=</mo><mi>π</mi></mrow></math> without scaling, or as a scaling by <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>r</mi><mo>=</mo><mn>-1</mn></mrow></math> without rotation. Both yield the same matrix.</p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mfenced><mtable><mtr><mtd><mrow><mo>cos</mo><mi>π</mi></mrow></mtd><mtd><mrow><mo>-sin</mo><mi>π</mi></mrow></mtd></mtr><mtr><mtd><mrow><mo>sin</mo><mi>π</mi></mrow></mtd><mtd><mrow><mo>cos</mo><mi>π</mi></mrow></mtd></mtr></mtable></mfenced><mo>=</mo><mfenced><mtable><mtr><mtd><mrow><mn>-1</mn><mo>⁢</mo><mo>cos</mo><mi>0</mi></mrow></mtd><mtd><mrow><mn>-1</mn><mo>⁢</mo><mo>-sin</mo><mi>0</mi></mrow></mtd></mtr><mtr><mtd><mrow><mn>-1</mn><mo>⁢</mo><mo>sin</mo><mi>0</mi></mrow></mtd><mtd><mrow><mn>-1</mn><mo>⁢</mo><mo>cos</mo><mi>0</mi></mrow></mtd></mtr></mtable></mfenced><mo>=</mo><mfenced><mtable><mtr><mtd><mn>-1</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>-1</mn></mtd></mtr></mtable></mfenced></mrow></math></dd></dl><h2>The group of rotation and scaling matrices</h2><p>The matrices of rotation and scaling form a group. If we apply a
         transformation to a point, then apply another transformation to the
         result it is equivalent to applying one combined transformation to the
         original point. We combine transformations by multiplying their
         matrices.</p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mfenced><mtable><mtr><mtd><mrow><msub><mi>r</mi><mn>2</mn></msub><mo>⁢</mo><mo>cos</mo><msub><mi>φ</mi><mn>2</mn></msub></mrow></mtd><mtd><mrow><msub><mi>r</mi><mn>2</mn></msub><mo>⁢</mo><mo>-sin</mo><msub><mi>φ</mi><mn>2</mn></msub></mrow></mtd></mtr><mtr><mtd><mrow><msub><mi>r</mi><mn>2</mn></msub><mo>⁢</mo><mo>sin</mo><msub><mi>φ</mi><mn>2</mn></msub></mrow></mtd><mtd><mrow><msub><mi>r</mi><mn>2</mn></msub><mo>⁢</mo><mo>cos</mo><msub><mi>φ</mi><mn>2</mn></msub></mrow></mtd></mtr></mtable></mfenced><mo>⁢</mo><mfenced><mtable><mtr><mtd><mrow><msub><mi>r</mi><mn>1</mn></msub><mo>⁢</mo><mo>cos</mo><msub><mi>φ</mi><mn>1</mn></msub></mrow></mtd><mtd><mrow><msub><mi>r</mi><mn>1</mn></msub><mo>⁢</mo><mo>-sin</mo><msub><mi>φ</mi><mn>1</mn></msub></mrow></mtd></mtr><mtr><mtd><mrow><msub><mi>r</mi><mn>1</mn></msub><mo>⁢</mo><mo>sin</mo><msub><mi>φ</mi><mn>1</mn></msub></mrow></mtd><mtd><mrow><msub><mi>r</mi><mn>1</mn></msub><mo>⁢</mo><mo>cos</mo><msub><mi>φ</mi><mn>1</mn></msub></mrow></mtd></mtr></mtable></mfenced></mrow><mrow><mo>=</mo></mrow><mrow><mfenced><mtable><mtr><mtd><mrow><msub><mi>r</mi><mn>2</mn></msub><mo>⁢</mo><msub><mi>r</mi><mn>1</mn></msub><mo>⁢</mo><mo>cos</mo><mo form="prefix" fence="true">(</mo><msub><mi>φ</mi><mn>2</mn></msub><mo form="infix">+</mo><msub><mi>φ</mi><mn>1</mn></msub><mo form="postfix" fence="true">)</mo></mrow></mtd><mtd><mrow><msub><mi>r</mi><mn>2</mn></msub><mo>⁢</mo><msub><mi>r</mi><mn>1</mn></msub><mo>⁢</mo><mo>-sin</mo><mo form="prefix" fence="true">(</mo><msub><mi>φ</mi><mn>2</mn></msub><mo form="infix">+</mo><msub><mi>φ</mi><mn>1</mn></msub><mo form="postfix" fence="true">)</mo></mrow></mtd></mtr><mtr><mtd><mrow><msub><mi>r</mi><mn>2</mn></msub><mo>⁢</mo><msub><mi>r</mi><mn>1</mn></msub><mo>⁢</mo><mo>sin</mo><mo form="prefix" fence="true">(</mo><msub><mi>φ</mi><mn>2</mn></msub><mo form="infix">+</mo><msub><mi>φ</mi><mn>1</mn></msub><mo form="postfix" fence="true">)</mo></mrow></mtd><mtd><mrow><msub><mi>r</mi><mn>2</mn></msub><mo>⁢</mo><msub><mi>r</mi><mn>1</mn></msub><mo>⁢</mo><mo>cos</mo><mo form="prefix" fence="true">(</mo><msub><mi>φ</mi><mn>2</mn></msub><mo form="infix">+</mo><msub><mi>φ</mi><mn>1</mn></msub><mo form="postfix" fence="true">)</mo></mrow></mtd></mtr></mtable></mfenced></mrow></math><p>Not only is this a rotation matrix, the result is also independent of
         the order of operands, something that is generally not true for matrix
         multiplication. We are thus dealing with a commutative magma. This
         magma is also an Abelian group:</p><ul><li>The neutral element is the identity transformation.</li><li>The inverse of a transformation with scale <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>r</mi></mrow></math> and angle <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>φ</mi></mrow></math> is a transformation with scale <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mfrac><mn>1</mn><mi>r</mi></mfrac></mrow></math> and angle <math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mi>-φ</mi></mrow></math>.</li><li>Since matrix multiplication is associative in general, the
            composition of transformations must be associative as well.</li></ul><h2>Conclusion</h2><p>We have derived the formula for rotation matrices without prior
         knowledge of what result to work towards. Instead we restricted our
         research to a very basic case, that of points on a unit circle, and
         used our knowledge of trigonometry to find a solution. Once we had our
         simple solution we extended our problem domain to that of arbitrary
         points and the scaling of vectors, and looked for ways to extend our
         simple solution to that new domain.</p><p>We then investigated some of the properties and concluded that what
         we have is a group structure, which allows use to use all results from
         group theory as well. There is actually much more to rotation
         matrices, but that would be beyond the scope of this post. I mainly
         wanted to show how one can come up with this formula that usually just
         appears like “magic” by starting with a simple base case and then
         further generalising from there.</p></article></main><nav class="blog-pager"><a href="../../../../2019/06/17/introducing-guile-vim/" rel="previous" style="float: left"><span aria-hidden="true">←</span> Introducing Guile.vim</a><a href="../../../../2019/06/22/what-is-a-programmable-programming-language/" rel="next" style="float: right">What is a programmable programming language? <span aria-hidden="true">→</span></a></nav><nav class="blog-navigation" aria-label="Blog navigation"><aside><span>Subscribe:</span> <a href="/blog/rss.xml" type="application/rss+xml">RSS</a></aside><nav><h1><a href="/blog/archive/">Archive</a></h1><ul><li><a href="/blog/2019/">2019 (17)</a></li><li><a href="/blog/2018/">2018 (1)</a></li><li><a href="/blog/2017/">2017 (4)</a></li><li><a href="/blog/2016/">2016 (6)</a></li><li><a href="/blog/2015/">2015 (2)</a></li></ul></nav><nav><h1><a href="/blog/categories/">Categories</a></h1><ul><li><a href="/blog/categories/organisation/">organisation (7)</a></li><li><a href="/blog/categories/open-source/">open-source (5)</a></li><li><a href="/blog/categories/misc/">misc (9)</a></li><li><a href="/blog/categories/vim/">vim (9)</a></li></ul></nav><nav><h1><a href="/blog/tags/">Tags</a></h1><ul><li><a href="/blog/tags/cocoa/">cocoa (1)</a></li><li><a href="/blog/tags/info/">info (1)</a></li><li><a href="/blog/tags/rant/">rant (1)</a></li><li><a href="/blog/tags/html/">html (5)</a></li><li><a href="/blog/tags/msgpack/">msgpack (3)</a></li><li><a href="/blog/tags/awk/">awk (1)</a></li><li><a href="/blog/tags/lisp/">lisp (11)</a></li><li><a href="/blog/tags/vim/">vim (10)</a></li></ul></nav></nav></div></div><footer><div><div class="footer-self"><a href="/" title="HiPhish's Workshop"><img src="/img/footer/logo.png" title="HiPhish's Workshop" height="55" /></a><p><a href="http://creativecommons.org/licenses/by-sa/4.0/"><img class="copyright-image" src="/img/footer/cc.svg" alt="Creative Commons Attribution-ShareAlike 4.0 International License" /> </a>© 2015-2019, licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></p></div><div class="footer-social"><a href="https://github.com/HiPhish" title="GitHub" target="blank"><img src="/img/footer/github.png" alt="GitHub" height="55" /> </a><a href="https://gitlab.com/HiPhish" title="GitLab" target="blank"><img src="/img/footer/gitlab.png" alt="GitLab" height="55" /> </a></div></div></footer></body></html>